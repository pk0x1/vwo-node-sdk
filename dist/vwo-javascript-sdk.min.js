/*!
 * vwo-javascript-sdk - v1.8.1
 * URL - https://github.com/wingify/vwo-node-sdk
 * 
 * Copyright 2019-2020 Wingify Software Pvt. Ltd.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 * Dependencies used - 
 *  1. murmurhash - ^0.0.2
 *  2. superstruct - ^0.8.3
 *  3. uuid - ^3.3.2
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.vwoSdk=t():e.vwoSdk=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17)}([function(e,t,r){var n=r(24);e.exports=n},function(e,t){e.exports={INDEX:"".concat("lib","/index"),VWO:"".concat("lib","/VWO"),API:"".concat("lib","/api/index"),Activate:"".concat("lib","/api/activate"),GetVariation:"".concat("lib","/api/getVariation"),Track:"".concat("lib","/api/track"),IsFeatureEnabled:"".concat("lib","/api/isFeatureEnabled"),GetFeatureVariableValue:"".concat("lib","/api/getFeatureVariableValue"),Push:"".concat("lib","/api/push"),SegmentEvaluator:"".concat("lib/core","/SegmentEvaluator"),BucketingService:"".concat("lib/core","/BucketingService"),VariationDecider:"".concat("lib/core","/VariationDecider"),ConsoleLogManager:"".concat("lib/services","/ConsoleLogManager"),EventQueue:"".concat("lib/services","/EventQueue"),LoggingManager:"".concat("lib/services","/LoggingManager"),SettingsFileManager:"".concat("lib/services","/SettingsFileManager"),CachingUtil:"".concat("lib/util","/CachingUtil"),CampaignUtil:"".concat("lib/util","/CampaignUtil"),DataTypeUtil:"".concat("lib/util","/DataTypeUtil"),EventDispatcher:"".concat("lib/util","/EventDispatcher"),EventDispatcherUtil:"".concat("lib/util","/EventDispatcherUtil"),FeatureUtil:"".concat("lib/util","/FeatureUtil"),Functionutil:"".concat("lib/util","/Functionutil"),ImpressionUtil:"".concat("lib/util","/ImpressionUtil"),UuidUtil:"".concat("lib/util","/UuidUtil"),ValidateUtil:"".concat("lib/util","/ValidateUtil"),DecisionUtil:"".concat("lib/util","/DecisionUtils")}},function(e,t){var r={_toStringValue:function(e){return Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===r._toStringValue(e)},isString:function(e){return"[object String]"===r._toStringValue(e)},isObject:function(e){return"[object Object]"===r._toStringValue(e)},isFunction:function(e){return"[object Function]"===r._toStringValue(e)},isBoolean:function(e){return"[object Boolean]"===r._toStringValue(e)},isUndefined:function(e){return"[object Undefined]"===r._toStringValue(e)},isNull:function(e){return"[object Null]"===r._toStringValue(e)},isArray:function(e){return"[object Array]"===r._toStringValue(e)}};e.exports=r},function(e,t,r){var n={};n={name:"vwo-javascript-sdk",version:"1.8.0"},e.exports={SDK_NAME:n.name,SDK_VERSION:n.version,PLATFORM:"server",SEED_VALUE:1,MAX_TRAFFIC_PERCENT:100,MAX_TRAFFIC_VALUE:1e4,STATUS_RUNNING:"RUNNING",SEED_URL:"https://vwo.com",HTTP_PROTOCOL:"http://",HTTPS_PROTOCOL:"https://"}},function(e,t,r){var n;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(2),o=r(22),u=r(6),l=r(9),s=(a(n={},u.ACTIVATE,(function(e){var t=e.campaignKey,r=e.userId,n=e.customVariables,a=void 0===n?{}:n,i=e.variationTargetingVariables,u=void 0===i?{}:i;return[{key:"campaignKey",value:t,type:o.STRING},{key:"userId",value:r,type:o.STRING},{key:"customVariables",value:a,type:o.OBJECT},{key:"variationTargetingVariables",value:u,type:o.OBJECT}]})),a(n,u.TRACK,(function(e){var t=e.campaignKey,r=e.userId,n=e.goalIdentifier,a=e.customVariables,i=void 0===a?{}:a,u=e.variationTargetingVariables,s=void 0===u?{}:u,c=e.goalTypeToTrack,g=void 0===c?l.ALL:c,f=e.shouldTrackReturningUser,E=void 0!==f&&f;return[{key:"campaignKey",value:t,type:o.STRING_NULL_UNDEFINED_ARRAY},{key:"userId",value:r,type:o.STRING},{key:"goalIdentifier",value:n,type:o.STRING},{key:"customVariables",value:i,type:o.OBJECT},{key:"variationTargetingVariables",value:s,type:o.OBJECT},{key:"goalTypeToTrack",value:g,type:o.STRING},{key:"shouldTrackReturningUser",value:E,type:o.BOOLEAN}]})),a(n,u.IS_FEATURE_ENABLED,(function(e){var t=e.campaignKey,r=e.userId,n=e.customVariables,a=void 0===n?{}:n,i=e.variationTargetingVariables,u=void 0===i?{}:i;return[{key:"campaignKey",value:t,type:o.STRING},{key:"userId",value:r,type:o.STRING},{key:"customVariables",value:a,type:o.OBJECT},{key:"variationTargetingVariables",value:u,type:o.OBJECT}]})),a(n,u.GET_FEATURE_VARIABLE_VALUE,(function(e){var t=e.campaignKey,r=e.variableKey,n=e.userId,a=e.customVariables,i=void 0===a?{}:a,u=e.variationTargetingVariables,l=void 0===u?{}:u;return[{key:"campaignKey",value:t,type:o.STRING},{key:"variableKey",value:r,type:o.STRING},{key:"userId",value:n,type:o.STRING},{key:"customVariables",value:i,type:o.OBJECT},{key:"variationTargetingVariables",value:l,type:o.OBJECT}]})),a(n,u.PUSH,(function(e){var t=e.tagKey,r=e.tagValue,n=e.userId;return[{key:"tagKey",value:t,type:o.STRING},{key:"tagValue",value:r,type:o.STRING},{key:"userId",value:n,type:o.STRING}]})),n);s[u.GET_VARIATION_NAME]=s[u.ACTIVATE];var c={isValidValue:function(e){return!(void 0===e||!e)},isValidString:function(e){return c.isValidValue(e)&&i.isString(e)},isValidNumber:function(e){return c.isValidValue(e)&&i.isNumber(e)},isValidFunction:function(e){return c.isValidValue(e)&&i.isFunction(e)},isValidBoolean:function(e){return void 0!==e&&i.isBoolean(e)},isValidObject:function(e){return void 0!==e&&i.isObject(e)},areValidParamsForAPIMethod:function(e){for(var t=s[e.method](e),r=[],n=0;n<t.length;n++){var a=t[n],u=a.value;switch(a.type){case o.NUMBER:r.push(c.isValidNumber(u));break;case o.STRING:r.push(c.isValidString(u));break;case o.BOOLEAN:r.push(c.isValidBoolean(u));break;case o.OBJECT:r.push(c.isValidObject(u));break;case o.STRING_NULL_UNDEFINED_ARRAY:var l=c.isValidString(u)||i.isUndefined(u)||i.isNull(u)||i.isArray(u);r.push(l)}}return r.every((function(e){return e}))}};e.exports=c},function(e,t,r){var n=r(4),a=r(14),i=r(3),o=r(29),u=r(0),l=r(1),s=r(9),c=r(30),g=u.LogLevelEnum,f=u.LogMessageEnum,E=u.LogMessageUtil,d=u.getLogger(),p={_getVariationBucketRange:function(e){if(!e||0===e)return 0;var t=Math.ceil(100*e);return Math.min(t,i.MAX_TRAFFIC_VALUE)},getCampaignBasedOnId:function(e,t){var r,n=o.LOOK_CAMPAIGN_WITH_ID,i=a.get(n,t);if(i)return i;for(var u=0;u<e.campaigns.length;u++)if(parseInt(e.campaigns[u].id,10)===parseInt(t,10)){r=e.campaigns[u],a.set(n,t,r);break}return r},scaleVariationWeights:function(e){var t=e.reduce((function(e,t){return e+t.weight}),0);if(t)e.forEach((function(e){return e.weight=e.weight/t*100}));else{var r=100/e.length;e.forEach((function(e){return e.weight=r}))}},getCampaign:function(e,t){var r,n=o.LOOK_CAMPAIGN_WITH_KEY,i=a.get(n,t);if(i)return i;for(var u=0;u<e.campaigns.length;u++)if(e.campaigns[u].key===t){r=e.campaigns[u],a.set(n,t,r);break}return r},getCampaignsForKeys:function(e,t){var r=[];return t.forEach((function(t){var n=p.getCampaign(e,t);n?r.push(n):r.push({key:t})})),r},getCampaignsForGoal:function(e,t,r){var n=[];return e.campaigns.forEach((function(a){var i=p.getCampaignGoal(e,a.key,t);!i||r!==s.ALL&&i.type!==r||n.push(a)})),n.length||d.log(g.ERROR,E.build(f.ERROR_MESSAGES.NO_CAMPAIGN_FOUND,{file:l.CampaignUtil,goalIdentifier:t})),n},getCampaignStatus:function(e,t){var r=p.getCampaign(e,t);return r&&r.status?r.status.toLowerCase():""},isCampaignRunning:function(e,t){return"running"===p.getCampaignStatus(e,t)},validateCampaign:function(e){return n.isValidValue(e)&&e.variations&&Object.keys(e.variations).length>0},setVariationAllocation:function(e){for(var t=e.variations.length,r=0,n=0;r<t;r++){var a=e.variations[r];n+=p.assignRangeValues(a,n),d.log(g.INFO,E.build(f.INFO_MESSAGES.VARIATION_RANGE_ALLOCATION,{file:l.CampaignUtil,campaignKey:e.key,variationName:a.name,variationWeight:a.weight,start:a.startVariationAllocation,end:a.endVariationAllocation}))}},assignRangeValues:function(e,t){var r;return(r=p._getVariationBucketRange(e.weight))?(e.startVariationAllocation=t+1,e.endVariationAllocation=t+r):(e.startVariationAllocation=-1,e.endVariationAllocation=-1),r},getCampaignGoal:function(e,t,r){var n=o.LOOK_CAMPAIGN_GOAL,i=a.get(n,{campaignKey:t,goalIdentifier:r});if(i)return i;var u=null;if(!e||!t||!r)return u;var l=p.getCampaign(e,t);if(!l)return u;for(var s=0;s<l.goals.length;s++){var c=l.goals[s];if(c.identifier===r){u=c,a.set(n,{campaignKey:t,goalIdentifier:r},u);break}}return u},getCampaignVariation:function(e,t,r){var n=o.LOOK_CAMPAIGN_VARIATION,i=a.get(n,{campaignKey:t,variationName:r});if(i)return i;var u=null;if(!e||!t||!r)return u;var l=p.getCampaign(e,t);if(!l)return u;for(var s=0;s<l.variations.length;s++){var c=l.variations[s];if(c.name===r){u=c,a.set(n,{campaignKey:t,variationName:r},u);break}}return u},getControlForCampaign:function(e){var t={};if(!e||!e.variations)return t;for(var r=0;r<e.variations.length;r++)if(1===e.variations[r].id){t=e.variations[r];break}return t},isFeatureTestCampaign:function(e){return!(!e||e.type!==c.FEATURE_TEST)},isFeatureRolloutCampaign:function(e){return!(!e||e.type!==c.FEATURE_ROLLOUT)},isAbCampaign:function(e){return!(!e||e.type!==c.AB)}};e.exports=p},function(e,t){e.exports={LAUNCH:"launch",ACTIVATE:"activate",GET_VARIATION_NAME:"getVariation",TRACK:"track",IS_FEATURE_ENABLED:"isFeatureEnabled",GET_FEATURE_VARIABLE_VALUE:"getFeatureVariableValue",PUSH:"push"}},function(e,t,r){var n=r(0),a=r(1),i=n.getLogger(),o=n.LogLevelEnum,u=n.LogMessageEnum,l=n.LogMessageUtil,s=a.FunctionUtil,c={cloneObject:function(e){return e?JSON.parse(JSON.stringify(e)):e},getRandomNumber:function(){return Math.random()},getCurrentUnixTimestamp:function(){return Math.ceil(+new Date/1e3)},matchWithRegex:function(e,t){try{return e.match(new RegExp(t))}catch(e){return i.log(o.ERROR,l.build(u.ERROR_MESSAGES.REGEX_CREATION_FAILED,{file:s})),null}}};e.exports=c},function(e,t,r){var n=r(21),a=r(12),i=r(5),o=r(2),u=r(7),l=r(0),s=r(1),c=r(31),g=l.LogLevelEnum,f=l.LogMessageEnum,E=l.LogMessageUtil,d=l.getLogger(),p=r(32),v=s.DecisionUtil,S="whitelisting",A="pre-segmentation",R={getVariation:function(e,t,r,a,i,u){var l,s,_,y,I=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},b=arguments.length>7?arguments[7]:void 0;if(r.isForcedVariationEnabled){var m,O=R._evaluateWhitelisting(r,a,i,I);if(O?(l=c.PASSED,m="for ".concat(O.variationName)):(l=c.FAILED,m=""),d.log(g.INFO,E.build(f.INFO_MESSAGES.SEGMENTATION_STATUS,{campaignKey:a,userId:i,customVariables:JSON.stringify(I),file:v,status:l,segmentationType:S,variation:m})),O)return _=O.variationName,O}else d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.WHITELISTING_SKIPPED,{campaignKey:a,userId:i,file:v}));var T=R._getStoredVariationAndGoalIdentifiers(e,t,r.key,i)||{},h=T.storedVariation,N=T.goalIdentifier;if(h)return d.log(g.INFO,E.build(f.INFO_MESSAGES.GOT_STORED_VARIATION,{file:v,campaignKey:a,userId:i,variationName:h.name})),{variation:h,variationName:h.name,variationId:h.id,storedGoalIdentifier:N};if(o.isObject(r.segments)&&!Object.keys(r.segments).length)d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.SEGMENTATION_SKIPPED,{campaignKey:a,userId:i,file:v}));else{var L=p(r.segments,u,a,i);if(l=L?c.PASSED:c.FAILED,d.log(g.INFO,E.build(f.INFO_MESSAGES.SEGMENTATION_STATUS,{campaignKey:a,userId:i,customVariables:JSON.stringify(u||{}),file:v,status:l,segmentationType:A,variation:""})),l===c.FAILED)return{}}var U=n.getVariationAllotted(i,r);return s=U.variation,_=U.variationName,y=U.variationId,_?(R._saveUserData(e,r,_,i,b),d.log(g.INFO,E.build(f.INFO_MESSAGES.VARIATION_ALLOCATED,{file:v,campaignKey:a,userId:i,variationName:_}))):d.log(g.INFO,E.build(f.INFO_MESSAGES.NO_VARIATION_ALLOCATED,{file:v,campaignKey:a,userId:i})),{variation:s&&s.variation,variationName:_,variationId:y}},_evaluateWhitelisting:function(e,t,r,n){var l,s;n=Object.assign({},n,{_vwoUserId:r});var A=[];if(e.variations.forEach((function(e){!o.isObject(e.segments)||Object.keys(e.segments).length?(o.isObject(e.segments)&&p(e.segments,n,t,r,e.name)?(s=c.PASSED,A.push(u.cloneObject(e))):s=c.FAILED,d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.SEGMENTATION_STATUS,{campaignKey:t,userId:r,customVariables:JSON.stringify(n),file:v,status:s,segmentationType:S,variation:"for ".concat(e.name)}))):d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.SEGMENTATION_SKIPPED,{campaignKey:t,userId:r,file:v,variation:", for ".concat(e.name)}))})),A.length>1){i.scaleVariationWeights(A);for(var R=0,_=0;R<A.length;R++)_+=i.assignRangeValues(A[R],_);l=a._getVariation(A,a.calculateBucketValue(r))}else l=A[0];if(l)return{variation:l,variationName:l.name,variationId:l.id}},_getStoredVariationAndGoalIdentifiers:function(e,t,r,n){var a=R._getStoredUserData(e,n,r),o=a.variationName,u=a.goalIdentifier;return a&&a.campaignKey&&o?(d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.GETTING_STORED_VARIATION,{file:v,campaignKey:r,userId:n,variationName:o})),{storedVariation:i.getCampaignVariation(t,r,o),goalIdentifier:u}):(d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.NO_STORED_VARIATION,{file:v,campaignKey:r,userId:n})),null)},_getStoredVariation:function(e,t,r,n){var a=R._getStoredVariationAndGoalIdentifiers(e,t,r,n);return a&&a.storedVariation?a.storedVariation:null},_getStoredUserData:function(e,t,r){var n={userId:t,variationName:null,campaignKey:r,goalIdentifier:null};if(!e.userStorageService)return d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.NO_USER_STORAGE_SERVICE_GET,{file:v})),n;try{var a=e.userStorageService.get(t,r)||{};return d.log(g.INFO,E.build(f.INFO_MESSAGES.GETTING_DATA_USER_STORAGE_SERVICE,{file:v,userId:t})),a}catch(e){d.log(g.ERROR,E.build(f.ERROR_MESSAGES.GET_USER_STORAGE_SERVICE_FAILED,{file:v,userId:t}))}},_saveUserData:function(e,t,r,n,a){var i=!1;if(!e.userStorageService)return d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.NO_USER_STORAGE_SERVICE_SET,{file:v})),i;try{var u={userId:n,variationName:r,campaignKey:t.key};o.isUndefined(a)||(u.goalIdentifier=a),e.userStorageService.set(u),d.log(g.INFO,E.build(f.INFO_MESSAGES.SETTING_DATA_USER_STORAGE_SERVICE,{file:v,userId:n})),i=!0}catch(e){d.log(g.ERROR,E.build(f.ERROR_MESSAGES.SET_USER_STORAGE_SERVICE_FAILED,{file:v,userId:n})),i=!1}return i}};e.exports=R},function(e,t){e.exports={REVENUE:"REVENUE_TRACKING",CUSTOM:"CUSTOM_GOAL",ALL:"ALL"}},function(e,t){var r={areObjectKeys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length},getKeyValue:function(e){if(r.areObjectKeys(e)){var t=Object.keys(e)[0];return{key:t,value:e[t]}}},objectValues:function(e){return Object.keys(e).map((function(t){return e[t]}))}};e.exports=r},function(e,t,r){var n=r(3),a=r(16),i=r(9),o=r(38),u=r(4),l=r(7),s=r(0),c=r(1),g=s.LogLevelEnum,f=s.LogMessageEnum,E=s.LogMessageUtil,d=s.getLogger();function p(e,t){var r=e.accountId;return{account_id:r,uId:encodeURIComponent(t),random:l.getRandomNumber(),sId:l.getCurrentUnixTimestamp(),u:o.generateFor(t,r),sdk:n.SDK_NAME,"sdk-v":n.SDK_VERSION,ap:n.PLATFORM}}e.exports={buildEventForPushing:function(e,t,r,i){var o,u,l,s=Object.assign({},p(e,i));return s.url=n.HTTPS_PROTOCOL+a.BASE_URL+a.PUSH,s.tags=JSON.stringify({u:(o={},u=encodeURIComponent(t),l=encodeURIComponent(r),u in o?Object.defineProperty(o,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[u]=l,o)}),d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.IMPRESSION_FOR_PUSH,{file:c.ImpressionUtil,properties:JSON.stringify(s)})),s},buildEventForTrackingUser:function(e,t,r,i){var o=Object.assign({experiment_id:t,combination:r},p(e,i));return o.ed=JSON.stringify({p:"server"}),o.url=n.HTTPS_PROTOCOL+a.BASE_URL+a.TRACK_USER,d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.IMPRESSION_FOR_TRACK_USER,{file:c.ImpressionUtil,properties:JSON.stringify(o)})),o},buildEventForTrackingGoal:function(e,t,r,o){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,v=l.id,S=Object.assign({experiment_id:t,combination:r},p(e,o));return S.url=n.HTTPS_PROTOCOL+a.BASE_URL+a.TRACK_GOAL,S.goal_id=v,l.type===i.REVENUE&&u.isValidValue(s)&&(S.r=s),d.log(g.DEBUG,E.build(f.DEBUG_MESSAGES.IMPRESSION_FOR_TRACK_GOAL,{file:c.ImpressionUtil,properties:JSON.stringify(S)})),S}}},function(e,t,r){var n=r(23),a=r(3),i=r(4),o=r(0),u=r(1),l=o.LogLevelEnum,s=o.LogMessageEnum,c=o.LogMessageUtil,g=o.getLogger(),f={_generateBucketValue:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e/Math.pow(2,32),a=(t*n+1)*r,i=Math.floor(a);return i},_getVariation:function(e,t){for(var r=0;r<Object.keys(e).length;r++){var n=e[r];if(t>=n.startVariationAllocation&&t<=n.endVariationAllocation)return n}return null},_getBucketValueForUser:function(e){var t=n.v3(e,a.SEED_VALUE),r=f._generateBucketValue(t,a.MAX_TRAFFIC_PERCENT);return g.log(l.DEBUG,c.build(s.DEBUG_MESSAGES.USER_HASH_BUCKET_VALUE,{file:u.BucketingService,hashValue:t,bucketValue:r,userId:e})),r},isUserPartOfCampaign:function(e,t){if(!i.isValidValue(e)||!t)return!1;var r=t.percentTraffic,n=f._getBucketValueForUser(e),a=0!==n&&n<=r;return g.log(l.INFO,c.build(s.INFO_MESSAGES.USER_ELIGIBILITY_FOR_CAMPAIGN,{file:u.BucketingService,userId:e,isUserPart:a})),a},bucketUserToVariation:function(e,t){var r;if(!i.isValidValue(e))return g.log(l.ERROR,c.build(s.ERROR_MESSAGES.INVALID_USER_ID,{file:u.BucketingService,userId:e,method:"bucketUserToVariation"})),null;if(!t)return null;t.percentTraffic&&(r=a.MAX_TRAFFIC_VALUE/t.percentTraffic/100);var n=f._generateHashValue(e),o=f._generateBucketValue(n,a.MAX_TRAFFIC_VALUE,r);return g.log(l.DEBUG,c.build(s.DEBUG_MESSAGES.VARIATION_HASH_BUCKET_VALUE,{file:u.BucketingService,userId:e,campaignKey:t.key,percentTraffic:t.percentTraffic,bucketValue:o,hashValue:n})),f._getVariation(t.variations,o)},calculateBucketValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=f._generateHashValue(e);return f._generateBucketValue(r,a.MAX_TRAFFIC_VALUE,t)},_generateHashValue:function(e){return n.v3(e,a.SEED_VALUE)}};e.exports=f},function(e,t,r){var n,a;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(25),u={NOTSET:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},l=(i(n={},u.NOTSET,"".concat(o.BOLD).concat(o.WHITE,"[NOTSET]:").concat(o.RESET)),i(n,u.DEBUG,"".concat(o.BOLD).concat(o.LIGHTBLUE,"[DEBUG]: ").concat(o.RESET)),i(n,u.INFO,"".concat(o.BOLD).concat(o.CYAN,"[INFO]:  ").concat(o.RESET)),i(n,u.WARN,"".concat(o.BOLD).concat(o.YELLOW,"[WARN]:  ").concat(o.RESET)),i(n,u.ERROR,"".concat(o.BOLD).concat(o.RED,"[ERROR]: ").concat(o.RESET)),n),s=(i(a={},u.NOTSET,"[NOTSET]:"),i(a,u.DEBUG,"[DEBUG]: "),i(a,u.INFO,"[INFO]:  "),i(a,u.WARN,"[WARN]:  "),i(a,u.ERROR,"[ERROR]: "),a);e.exports={LogLevelEnum:u,LogNumberLevel:{_0:"NOTSET",_1:"DEBUG",_2:"INFO",_3:"WARN",_4:"ERROR"},LogLevelInfoEnum:s,LogLevelColorInfoEnum:l}},function(e,t,r){var n=r(2),a=r(0),i=r(1),o=a.LogLevelEnum,u=a.LogMessageEnum,l=a.LogMessageUtil,s=a.getLogger(),c=i.CachingUtil,g={_cache:{},_generateCacheKey:function(e,t){var r="";if(n.isString(t)||n.isNumber(t))r="".concat(e,"__").concat(t);else if(n.isObject(t)){var a="";for(var i in t)t.hasOwnProperty(i)&&(a+="__".concat(t[i]));r="".concat(e).concat(a)}return r},resetCache:function(){g._cache={},s.log(o.DEBUG,l.build(u.DEBUG_MESSAGES.RESET_CACHE,{file:c}))},get:function(e,t){if(e&&t){var r=g._generateCacheKey(e,t);return!!g._cache[r]&&(s.log(o.DEBUG,l.build(u.DEBUG_MESSAGES.GOT_FROM_CACHE,{file:c,finalKey:r})),g._cache[r])}return!1},set:function(e,t,r){if(t&&r){var n=g._generateCacheKey(e,t);s.log(o.DEBUG,l.build(u.DEBUG_MESSAGES.SET_IN_CACHE,{file:c,finalKey:n})),g._cache[n]=r}return!1}};e.exports=g},function(e,t,r){var n={SegmentOperandTypes:r(33),SegmentOperatorTypes:r(34),SegmentOperandValueTypeRegexes:r(35),SegmentOperandValues:r(36)};e.exports=n},function(e,t){e.exports={BASE_URL:"dev.visualwebsiteoptimizer.com",ACCOUNT_SETTINGS:"/server-side/settings",TRACK_USER:"/server-side/track-user",TRACK_GOAL:"/server-side/track-goal",PUSH:"/server-side/push"}},function(e,t,r){var n=r(18),a=r(2),i=r(7),o=r(10).objectValues,u=r(56),l=r(9),s=r(0),c=r(1),g=s.setLogHandler,f=s.setLogLevel,E=s.LogLevelEnum,d=s.LogNumberLevel,p=s.LogMessageEnum,v=s.LogMessageUtil,S=s.getLogger();s.setLogLevel(E.ERROR),e.exports={logging:s,setLogger:g,setLogLevel:f,getSettingsFile:u.get,GoalTypeEnum:l,launch:function(e){var t={};try{if(i.cloneObject(e),!a.isUndefined(e.shouldTrackReturningUser)&&!a.isBoolean(e.shouldTrackReturningUser))throw new Error("shouldTrackReturningUser should be boolean");if(!a.isUndefined(e.isDevelopmentMode)&&!a.isBoolean(e.isDevelopmentMode))throw new Error("isDevelopmentMode should be boolean");if(e.goalTypeToTrack&&!o(l).includes(e.goalTypeToTrack))throw new Error("goalTypeToTrack should be certain strings");if(t.logging&&t.logging.level&&!o(E).includes(e.logging.level))throw new Error("log level should be certain values");t=e}catch(e){S.log(E.ERROR,v.build(p.ERROR_MESSAGES.SDK_CONFIG_CORRUPTED,{file:c.INDEX,value:t.logging.haveColoredLogs})),t={}}return t.isDevelopmentMode&&s.setLogColorMode(!0),t.logging&&a.isObject(t.logging)&&(void 0!==t.logging.haveColoredLogs&&s.setLogColorMode(t.logging.haveColoredLogs),t.logging.logger&&a.isObject(t.logging.logger)&&a.isFunction(t.logging.logger.log)?(s.setLogHandler(t.logging.logger),s.setLogLevel(s.LogLevelEnum.NOTSET),S.log(E.DEBUG,v.build(p.DEBUG_MESSAGES.CUSTOM_LOGGER_USED,{file:c.INDEX}))):t.logging.logger&&S.log(E.ERROR,v.build(p.ERROR_MESSAGES.CUSTOM_LOGGER_MISCONFIGURED,{file:c.INDEX})),void 0!==t.logging.level&&(s.setLogLevel(t.logging.level),S.log(E.DEBUG,v.build(p.DEBUG_MESSAGES.LOG_LEVEL_SET,{file:c.INDEX,level:d["_"+t.logging.level]})))),t.isDevelopmentMode&&S.log(E.DEBUG,v.build(p.DEBUG_MESSAGES.SET_DEVELOPMENT_MODE,{file:c.INDEX})),t.logger=t.logger||S,new n(t)}}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(19),i=r(14),o=r(50),u=r(53),l=r(0),s=r(1),c=l.LogLevelEnum,g=l.LogMessageEnum,f=l.LogMessageUtil,E=s.VWO,d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getVariation=this.getVariationName,this.userStorageService=t.userStorageService,this.logger=t.logger;var r=new u(t);r.isSettingsFileValid()?(this.logger.log(c.DEBUG,f.build(g.DEBUG_MESSAGES.VALID_CONFIGURATION,{file:E})),this.eventQueue=new o,this.SettingsFileManager=r,this.SettingsFileManager.processSettingsFile(),this.logger.log(c.DEBUG,f.build(g.DEBUG_MESSAGES.SDK_INITIALIZED,{file:E})),i.resetCache()):this.logger.log(c.ERROR,f.build(g.ERROR_MESSAGES.INVALID_SETTINGS_FILE,{file:E}))}var t,r,l;return t=e,(r=[{key:"activate",value:function(e,t,r){try{return a.activate(this,e,t,r)}catch(e){return this.logger.log(c.ERROR,e.message),null}}},{key:"getVariationName",value:function(e,t,r){try{return a.getVariation(this,e,t,r)}catch(e){return this.logger.log(c.ERROR,e.message),null}}},{key:"track",value:function(e,t,r,n){try{return a.track(this,e,t,r,n)}catch(e){return this.logger.log(c.ERROR,e.message),null}}},{key:"isFeatureEnabled",value:function(e,t,r){try{return a.isFeatureEnabled(this,e,t,r)}catch(e){return this.logger.log(c.ERROR,e.message),!1}}},{key:"getFeatureVariableValue",value:function(e,t,r,n){try{return a.getFeatureVariableValue(this,e,t,r,n)}catch(e){return this.logger.log(c.ERROR,e.message),null}}},{key:"push",value:function(e,t,r){try{return a.push(this,e,t,r)}catch(e){return this.logger.log(c.ERROR,e.message),!1}}}])&&n(t.prototype,r),l&&n(t,l),e}();e.exports=d},function(e,t,r){var n=r(20),a=r(43),i=r(44),o=r(45),u=r(46),l=r(49);e.exports={activate:n,getVariation:a,track:i,isFeatureEnabled:o,getFeatureVariableValue:u,push:l}},function(e,t,r){var n=r(3),a=r(6),i=r(8),o=r(5),u=r(11),l=r(4),s=r(2),c=r(0),g=r(1),f=c.LogLevelEnum,E=c.LogMessageEnum,d=c.LogMessageUtil,p=g.Activate;e.exports=function(e,t,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=a.ACTIVATE,v=!1;if(s.isObject(c)){var S=c.customVariables,A=c.variationTargetingVariables;l.areValidParamsForAPIMethod({method:a.ACTIVATE,campaignKey:t,userId:r,customVariables:S,variationTargetingVariables:A})&&(v=!0)}if(!1===v)return e.logger.log(f.ERROR,d.build(E.ERROR_MESSAGES.ACTIVATE_API_MISSING_PARAMS,{file:p})),null;var R=e.SettingsFileManager.getConfig(),_=e.SettingsFileManager.getSettingsFile(g);if(!_)return null;var y=o.getCampaign(_,t);if(!y||y.status!==n.STATUS_RUNNING)return e.logger.log(f.ERROR,d.build(E.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:p,campaignKey:t,api:g})),null;if(!o.isAbCampaign(y))return e.logger.log(f.ERROR,d.build(E.ERROR_MESSAGES.INVALID_API,{file:p,campaignKey:t,campaignType:y.type,userId:r,api:g})),null;var I=i.getVariation(R,_,y,t,r,S,A),b=I.variationId,m=I.variationName;if(!l.isValidValue(m))return e.logger.log(f.INFO,d.build(E.INFO_MESSAGES.INVALID_VARIATION_KEY,{file:p,userId:r,campaignKey:t})),null;var O=u.buildEventForTrackingUser(_,y.id,b,r);return e.eventQueue.process(R,O,e),m}},function(e,t,r){var n=r(4),a=r(12),i=r(0),o=r(1),u=i.LogLevelEnum,l=i.LogMessageEnum,s=i.LogMessageUtil,c=i.getLogger(),g={getVariationAllotted:function(e,t){var r={variation:null,variationId:null,variationName:null};if(!n.isValidValue(e))return c.log(u.ERROR,s.build(l.ERROR_MESSAGES.INVALID_USER_ID,{file:o.BucketingService,userId:e,method:"getVariationAllotted"})),r;if(a.isUserPartOfCampaign(e,t)){var i=g.getVariationOfCampaignForUser(e,t)||{};r.variation=i,r.variationId=i.id,r.variationName=i.name,c.log(u.DEBUG,s.build(l.DEBUG_MESSAGES.GOT_VARIATION_FOR_USER,{file:o.VariationDecider,variationName:i.name,userId:e,campaignKey:t.key,method:"getVariationAllotted"}))}else c.log(u.DEBUG,s.build(l.DEBUG_MESSAGES.USER_NOT_PART_OF_CAMPAIGN,{file:o.VariationDecider,userId:e,campaignKey:t.key,method:"getVariationAllotted"}));return r},getVariationOfCampaignForUser:function(e,t){if(!n.isValidValue(e)||!t)return null;var r=a.bucketUserToVariation(e,t);return r&&r.name?(c.log(u.INFO,s.build(l.INFO_MESSAGES.GOT_VARIATION_FOR_USER,{file:o.VariationDecider,variationName:r.name,userId:e,campaignKey:t.key})),{variation:r,name:r.name,id:r.id}):(c.log(u.INFO,s.build(l.INFO_MESSAGES.USER_GOT_NO_VARIATION,{file:o.VariationDecider,userId:e,campaignKey:t.key})),null)}};e.exports=g},function(e,t){e.exports={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",OBJECT:"object"}},function(e,t,r){!function(){function t(e,t){var r,n,a,i,o,u,l,s;for(r=3&e.length,n=e.length-r,a=t,o=3432918353,u=461845907,s=0;s<n;)l=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24,++s,a=27492+(65535&(i=5*(65535&(a=(a^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*u+(((l>>>16)*u&65535)<<16)&4294967295)<<13|a>>>19))+((5*(a>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(s+2))<<16;case 2:l^=(255&e.charCodeAt(s+1))<<8;case 1:a^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(s)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*u+(((l>>>16)*u&65535)<<16)&4294967295}return a^=e.length,a=2246822507*(65535&(a^=a>>>16))+((2246822507*(a>>>16)&65535)<<16)&4294967295,a=3266489909*(65535&(a^=a>>>13))+((3266489909*(a>>>16)&65535)<<16)&4294967295,(a^=a>>>16)>>>0}var r=t;r.v2=function(e,t){for(var r,n=e.length,a=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0},r.v3=t,e.exports=r}()},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(13),i=a.LogLevelEnum,o=a.LogNumberLevel,u=r(26),l=r(27),s=r(28),c=i.NOTSET,g=!1,f=new s,E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.isColoredLogEnabled=g}var t,r,a;return t=e,(r=[{key:"_customLog",value:function(e,t){e<c||f.log(e,t)}},{key:"log",value:function(e,t){try{this._customLog(e,t)}catch(e){console.error("VWO: Could not log.",e)}}},{key:"info",value:function(e){this._customLog(i.INFO,e)}},{key:"debug",value:function(e){this._customLog(i.DEBUG,e)}},{key:"warn",value:function(e){this._customLog(i.WARN,e)}},{key:"error",value:function(e){this._customLog(i.ERROR,e)}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports={LogLevelEnum:i,LogNumberLevel:o,LogMessageUtil:l,LogMessageEnum:u,getLogger:function(e){return new E(e)},setLogHandler:function(e){f=e},setLogLevel:function(e){c=void 0===e?i.ERROR:e},getLogLevel:function(){return c},LogManager:E,setLogColorMode:function(e){g=e,f.isColoredLogEnabled=g},getLogColorMode:function(){return g},globalLogHandler:f}},function(e,t){e.exports={BOLD:"[1m",CYAN:"[36m",GREEN:"[32m",LIGHTBLUE:"[94m",RED:"[31m",RESET:"[0m",WHITE:"[30m",YELLOW:"[33m"}},function(e,t){e.exports={DEBUG_MESSAGES:{CUSTOM_LOGGER_USED:"({file}): Custom logger used",GETTING_STORED_VARIATION:"({file}): Got stored variation for User ID:{userId} of Campaign:{campaignKey} as Variation:{variationName}, found in UserStorageService",GOT_FROM_CACHE:"({file}): Got data from cache for the finalKey:{finalKey}",GOT_VARIATION_FOR_USER:"({file}): User ID:{userId} for Campaign:{campaignKey} got variationName:{variationName} inside method:{method}",IMPRESSION_FOR_PUSH:"({file}): impression built for pushing - {properties}",IMPRESSION_FOR_TRACK_GOAL:"({file}): impression built for track-goal - {properties}",IMPRESSION_FOR_TRACK_USER:"({file}): impression built for track-user - {properties}",LOG_LEVEL_SET:"({file}): Log level set to {level}",NO_STORED_VARIATION:"({file}): No stored variation for User ID:{userId} for Campaign:{campaignKey} found in UserStorageService",NO_USER_STORAGE_SERVICE_GET:"({file}): No UserStorageService to get stored data",NO_USER_STORAGE_SERVICE_SET:"({file}): No UserStorageService to set data",RESET_CACHE:"({file}): Cache Reset on VWO instantiation",SDK_INITIALIZED:"({file}): SDK properly initialzed",SEGMENTATION_SKIPPED:"({file}): For userId:{userId} of Campaign:{campaignKey}, segment was missing, hence skipping segmentation{variation}",SEGMENTATION_STATUS:"({file}): For userId:{userId} of Campaign:{campaignKey} with variables:{customVariables} {status} {segmentationType} {variation}",SET_DEVELOPMENT_MODE:"({file}): DEVELOPMENT mode is ON",SET_IN_CACHE:"({file}): Set data in cache for the finalKey:{finalKey}",SETTINGS_FILE_PROCESSED:"({file}): Settings file processed",USER_HASH_BUCKET_VALUE:"({file}): User ID:{userId} having hash:{hashValue} got bucketValue:{bucketValue}",USER_NOT_PART_OF_Campaign:"({file}): userId:{userId} for Campaign:{campaignKey} did not become part of campaign, method:{method}",UUID_FOR_USER:"({file}): Uuid generated for User ID:{userId} and accountId:{accountId} is {desiredUuid}",VALID_CONFIGURATION:"({file}): SDK configuration and account settings are valid",VARIATION_HASH_BUCKET_VALUE:"({file}): User ID:{userId} for Campaign:{campaignKey} having percent traffic:{percentTraffic} got hash-value:{hashValue} and bucket value:{bucketValue}",WHITELISTING_SKIPPED:"({file}): For userId:{userId} of Campaign:{campaignKey}, whitelisting was skipped"},ERROR_MESSAGES:{API_HAS_CORRUPTED_SETTINGS_FILE:'({file}): "{api}" API has corrupted settings-file. Please check or reach out to VWO support',ACTIVATE_API_MISSING_PARAMS:'({file}): "activate" API got bad parameters. It expects campaignKey(String) as first, userId(String) as second and options(optional Object) as third argument',CAMPAIGN_NOT_RUNNING:"({file}): API used:{api} - Campaign:{campaignKey} is not RUNNING. Please verify from VWO App",GET_FEATURE_VARIABLE_MISSING_PARAMS:'({file}): "getFeatureVariableValue" API got bad parameters. It expects campaignKey(String) as first, variableKey(String) as second, userId(String) as third, and options(optional Object) as fourth argument',GET_VARIATION_API_MISSING_PARAMS:'({file}): "getVariation" API got bad parameters. It expects campaignKey(String) as first, userId(String) as second and options(optional Object) as third argument',IMPRESSION_FAILED:"({file}): Impression event could not be sent to VWO - {endPoint}. Reason: {err}",INVALID_API:"({file}): {api} API is not valid for Campaign:{campaignKey} of type:{campaignType} for User ID:{userId}",INVALID_SETTINGS_FILE:"({file}): Settings-file fetched is not proper",IS_FEATURE_ENABLED_API_MISSING_PARAMS:'({file}): "isFeatureEnabled" API got bad parameters. It expects Campaign(String) as first, userId(String) as second and options(optional Object) as third argument',GET_USER_STORAGE_SERVICE_FAILED:"({file}): Getting data from UserStorageService failed for User ID:{userId}",SDK_CONFIG_CORRUPTED:"({file}): config passed to launch API is not a valid JSON object",PUSH_INVALID_PARAMS:'({file}): "{method}" API got bad parameters. It expects tagKey(String) as first, tagValue(String) as second and userId(String) as third argument',REGEX_CREATION_FAILED:"({file}): Regex cound not be processed",SET_USER_STORAGE_SERVICE_FAILED:"({file}): Saving data into UserStorageService failed for User ID:{userId}",SEGMENTATION_ERROR:"({file}): Error while segmenting the user:{userId} of Campaign:{campaignKey}{variation} with customVariables:{customVariables}. Error message: {err}",SETTINGS_FILE_CORRUPTED:"({file}): Settings file is corrupted. Please contact VWO Support for help",TAG_KEY_LENGTH_EXCEEDED:"({file}): Length of tagKey:{tagKey} for userID:{userId} can not be greater than 255",TAG_VALUE_LENGTH_EXCEEDED:"({file}): Length of value:{tagValue} of tagKey:{tagKey} for userID:{userId} can not be greater than 255",TRACK_API_GOAL_NOT_FOUND:"({file}): Goal:{goalIdentifier} not found for Campaign:{campaignKey} and userId:{userId}",TRACK_API_MISSING_PARAMS:'({file}): "track" API got bad parameters. It expects campaignKey(String or Array of strings or null or undefined) as first, userId(String) as second, goalIdentifier(String/Number) as third and options(optional Object) as fourth argument.',TRACK_API_REVENUE_NOT_PASSED_FOR_REVENUE_GOAL:"({file}): Revenue value should be passed for revenue goal:{goalIdentifier} for Campaign:{campaignKey} and userId:{userId}",UNABLE_TO_CAST_VALUE:"({file}): Unable to cast value:{variableValue} to type:{variableType}, returning null",VARIABLE_NOT_FOUND:"({file}): Variable:{variableKey} for User ID:{userId} is not found in settings-file. Returning null",NO_CAMPAIGN_FOUND:"({file}): No campaign found for goalIdentifier:{goalIdentifier}. Please verify from VWO app."},INFO_MESSAGES:{FEATURE_ENABLED_FOR_USER:"({file}): Campaign:{campaignKey} for user ID:{userId} is enabled",FEATURE_NOT_ENABLED_FOR_USER:"({file}): Campaign:{campaignKey} for user ID:{userId} is not enabled",IMPRESSION_SUCCESS:"({file}): Impression event - {endPoint} was successfully received by VWO having main keys: accountId:{accountId}, User ID:{userId}, campaignId:{campaignId} and variationId:{variationId}",INVALID_VARIATION_KEY:"({file}): Variation was not assigned to User ID:{userId} for Campaign:{campaignKey}",GETTING_DATA_USER_STORAGE_SERVICE:"({file}): Getting data from UserStorageService for User ID:{userId} successful",SETTING_DATA_USER_STORAGE_SERVICE:"({file}): Setting data into UserStorageService for User ID:{userId} successful",SEGMENTATION_STATUS:"({file}): UserId:{userId} of Campaign:{campaignKey} with variables:{customVariables} {status} {segmentationType} {variation}",USER_GOT_NO_VARIATION:"({file}): User ID:{userId} for Campaign:{campaignKey} did not allot any variation",USER_RECEIVED_VARIABLE_VALUE:"({file}): Value for variable:{variableKey} of feature flag:{campaignKey} is:{variableValue} for user:{userId}",VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:"({file}): Variable:{variableKey} is not used in variation:{variationName}. Returning default value",VARIATION_ALLOCATED:"({file}): User ID:{userId} of Campaign:{campaignKey} got variation:{variationName}",VARIATION_RANGE_ALLOCATION:"({file}): Campaign:{campaignKey} having variation:{variationName} with weight:{variationWeight} got range as: ( {start} - {end} ))",GOAL_ALREADY_TRACKED:'({file}): "Goal:{goalIdentifer} of Campaign:{campaignKey} for User ID:{userId} has already been tracked earlier. Skipping now.'},WARNING_MESSAGES:{}}},function(e,t,r){var n=r(2),a=/\{([0-9a-zA-Z_]+)\}/g,i={build:function(e,t){try{return e.replace(a,(function(r,a,i){var o;if("{"===e[i-1]&&"}"===e[i+r.length])return a;if(t.hasOwnProperty(a)){var u=t[a];n.isFunction(u)&&(u=t[a]()),o=u}else o=null;return null==o?"":o}))}catch(t){return e}}};e.exports=i},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(13),i=a.LogLevelEnum,o=a.LogLevelInfoEnum,u=a.LogLevelColorInfoEnum,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logLevel=i.NOTSET,this.prefix="VWO-SDK",this.isColoredLogEnabled=!1}var t,r,a;return t=e,(r=[{key:"log",value:function(e,t){var r;this.shouldLog(e)&&(r=this.isColoredLogEnabled?"".concat(this.prefix," - ").concat(u[e]," ").concat(this.getCurrentTime()," ").concat(t):"".concat(this.prefix," - ").concat(o[e]," ").concat(this.getCurrentTime()," ").concat(t),this.consoleLog(e,[r]))}},{key:"shouldLog",value:function(e){return e>=this.logLevel}},{key:"getCurrentTime",value:function(){return(new Date).toISOString()}},{key:"setLogLevel",value:function(e){this.logLevel=void 0===e?i.ERROR:e}},{key:"consoleLog",value:function(e,t){switch(e){case i.INFO:console.info.apply(console,t);break;case i.WARN:console.warn.apply(console,t);break;case i.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports=l},function(e,t){e.exports={LOOK_CAMPAIGN_GOAL:"lookCampaignGoal",LOOK_CAMPAIGN_WITH_ID:"lookCampaignWithId",LOOK_CAMPAIGN_WITH_KEY:"lookCampaignWithKey",LOOK_CAMPAIGN_VARIATION:"lookCampaignVariation"}},function(e,t){e.exports={FEATURE_TEST:"FEATURE_TEST",FEATURE_ROLLOUT:"FEATURE_ROLLOUT",AB:"VISUAL_AB"}},function(e,t){e.exports={PASSED:"passed",FAILED:"failed"}},function(e,t,r){var n=r(15),a=r(10).getKeyValue,i=r(37),o=i.operandCustomVariablesParser,u=i.operandUserParser,l=r(0),s=r(2),c=r(1),g=n.SegmentOperatorTypes,f=g.AND,E=g.OR,d=g.NOT,p=n.SegmentOperandTypes,v=p.CUSTOM_VARIABLE,S=p.USER,A=l.LogLevelEnum,R=l.LogMessageEnum,_=l.LogMessageUtil,y=c.SegmentEvaluator,I=l.getLogger();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";try{return s.isObject(e)&&!Object.keys(e).length?(I.log(A.DEBUG,_.build(R.DEBUG_MESSAGES.SEGMENTATION_SKIPPED,{campaignKey:r,userId:n,file:y})),!0):!s.isObject(e)||!Object.keys(e).length||function e(t,r){var n=a(t),i=n.key,l=n.value;var s=i;var c=l;if(s===d)return!e(c,r);if(s===f){for(var g=[],p=0;p<c.length;p++)g.push(e(c[p],r));return g.every((function(e){return e}))}if(s===E){for(var A=[],R=0;R<c.length;R++)A.push(e(c[R],r));return A.some((function(e){return e}))}if(s===v)return o(c,r);if(s===S)return u(c,r)}(e,t)}catch(e){return I.log(A.ERROR,_.build(R.ERROR_MESSAGES.SEGMENTATION_ERROR,{campaignKey:r,userId:n,customVariables:JSON.stringify(t),file:y,err:e,variation:i})),!1}}},function(e,t){e.exports={CUSTOM_VARIABLE:"custom_variable",USER:"user"}},function(e,t){e.exports={AND:"and",NOT:"not",OR:"or"}},function(e,t){e.exports={LOWER:/^lower/,LOWER_MATCH:/^lower\((.*)\)/,WILDCARD:/^wildcard/,WILDCARD_MATCH:/^wildcard\((.*)\)/,REGEX:/^regex/,REGEX_MATCH:/^regex\((.*)\)/,STARTING_STAR:/^\*/,ENDING_STAR:/\*$/}},function(e,t){e.exports={LOWER_VALUE:1,STARTING_ENDING_STAR_VALUE:2,STARTING_STAR_VALUE:3,ENDING_STAR_VALUE:4,REGEX_VALUE:5,EQUAL_VALUE:6}},function(e,t,r){var n=r(2),a=r(7).matchWithRegex,i=r(10).getKeyValue,o=r(15),u=o.SegmentOperandValueTypeRegexes,l=u.LOWER_MATCH,s=u.WILDCARD_MATCH,c=u.REGEX_MATCH,g=u.STARTING_STAR,f=u.ENDING_STAR,E=o.SegmentOperandValues,d=E.LOWER_VALUE,p=E.STARTING_ENDING_STAR_VALUE,v=E.STARTING_STAR_VALUE,S=E.ENDING_STAR_VALUE,A=E.REGEX_VALUE,R=E.EQUAL_VALUE;function _(e,t){return a(e,t)&&a(e,t)[1]}function y(e,t){var r=parseFloat(e,10),n=parseFloat(t,10);return r&&n?(r===Math.floor(r)&&(r=parseInt(r,10)),n===Math.floor(n)&&(n=parseInt(n,10)),{operandValue:r.toString(),tagValue:n.toString()}):{operandValue:e,tagValue:t}}function I(e){return void 0===e&&(e=""),n.isBoolean(e)&&(e=!!e),null!==e&&(e=e.toString()),e}function b(e){var t,r,n,i;return a(e,l)?(t=d,r=_(e,l)):a(e,s)?(r=_(e,s),n=a(r,g),i=a(r,f),n&&i?t=p:n?t=v:i&&(t=S),r=r.replace(g,"").replace(f,"")):a(e,c)?(t=A,r=_(e,c)):(t=R,r=e),{operandType:t,operandValue:r}}e.exports={extractOperandValue:_,processValues:y,preProcessTagValue:I,preProcessOperandValue:b,operandCustomVariablesParser:function(e,t){var r=i(e),n=r.key,a=n;if(e=r.value,!t.hasOwnProperty(n))return!1;var o=t[a];o=I(o);var u=b(e),l=u.operandType,s=y(u.operandValue,o);return o=s.tagValue,function(e,t,r){var n;switch(e){case d:null!==r&&(n=t.toLowerCase()===r.toLowerCase());break;case p:null!==r&&(n=r.indexOf(t)>-1);break;case v:null!==r&&(n=r.endsWith(t));break;case S:null!==r&&(n=r.startsWith(t));break;case A:try{var a=new RegExp(t,"g");n=!!a.test(r)}catch(e){n=!1}break;default:n=r===t}return n}(l,s.operandValue,o)},operandUserParser:function(e,t){for(var r=e.split(","),n=0;n<r.length;n++)if(r[n].trim()===t._vwoUserId)return!0;return!1}}},function(e,t,r){var n=r(39),a=r(3),i=r(0),o=r(1),u=i.LogLevelEnum,l=i.LogMessageEnum,s=i.LogMessageUtil,c=i.getLogger(),g=n(a.SEED_URL,n.URL),f={generateFor:function(e,t){e="".concat(e);var r="".concat(t),n=f.generate(r,g),a=f.generate(e,n).replace(/-/gi,"").toUpperCase();return c.log(u.DEBUG,s.build(l.DEBUG_MESSAGES.UUID_FOR_USER,{file:o.UuidUtil,userId:e,accountId:t,desiredUuid:a})),a},generate:function(e,t){if(e&&t)return n(e,t)}};e.exports=f},function(e,t,r){var n=r(40),a=r(42);e.exports=n("v5",80,a)},function(e,t,r){var n=r(41);e.exports=function(e,t,r){var a=function(e,a,i,o){var u=i&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof a&&(a=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(a)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(a)||16!==a.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var l=r(a.concat(e));if(l[6]=15&l[6]|t,l[8]=63&l[8]|128,i)for(var s=0;s<16;++s)i[u+s]=l[s];return i||n(l)};try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,a=r;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")}},function(e,t,r){"use strict";function n(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function a(e,t){return e<<t|e>>>32-t}e.exports=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=new Array(i.length);for(var o=0;o<i.length;o++)e[o]=i.charCodeAt(o)}e.push(128);var u=e.length/4+2,l=Math.ceil(u/16),s=new Array(l);for(o=0;o<l;o++){s[o]=new Array(16);for(var c=0;c<16;c++)s[o][c]=e[64*o+4*c]<<24|e[64*o+4*c+1]<<16|e[64*o+4*c+2]<<8|e[64*o+4*c+3]}for(s[l-1][14]=8*(e.length-1)/Math.pow(2,32),s[l-1][14]=Math.floor(s[l-1][14]),s[l-1][15]=8*(e.length-1)&4294967295,o=0;o<l;o++){for(var g=new Array(80),f=0;f<16;f++)g[f]=s[o][f];for(f=16;f<80;f++)g[f]=a(g[f-3]^g[f-8]^g[f-14]^g[f-16],1);var E=r[0],d=r[1],p=r[2],v=r[3],S=r[4];for(f=0;f<80;f++){var A=Math.floor(f/20),R=a(E,5)+n(A,d,p,v)+S+t[A]+g[f]>>>0;S=v,v=p,p=a(d,30)>>>0,d=E,E=R}r[0]=r[0]+E>>>0,r[1]=r[1]+d>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+S>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}},function(e,t,r){var n=r(3),a=r(6),i=r(8),o=r(5),u=r(4),l=r(2),s=r(0),c=r(1),g=s.LogLevelEnum,f=s.LogMessageEnum,E=s.LogMessageUtil,d=c.GetVariation;e.exports=function(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=a.GET_VARIATION_NAME,p=!1;if(l.isObject(s)){var v=s.customVariables,S=s.variationTargetingVariables;u.areValidParamsForAPIMethod({method:a.GET_VARIATION_NAME,campaignKey:t,userId:r,customVariables:v,variationTargetingVariables:S})&&(p=!0)}if(!1===p)return e.logger.log(g.ERROR,E.build(f.ERROR_MESSAGES.GET_VARIATION_API_MISSING_PARAMS,{file:d})),null;var A=e.SettingsFileManager.getConfig(),R=e.SettingsFileManager.getSettingsFile(c);if(!R)return null;var _=o.getCampaign(R,t);if(!_||_.status!==n.STATUS_RUNNING)return e.logger.log(g.ERROR,E.build(f.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:d,campaignKey:t,api:c})),null;if(o.isFeatureRolloutCampaign(_))return e.logger.log(g.ERROR,E.build(f.ERROR_MESSAGES.INVALID_API,{file:d,campaignKey:t,campaignType:_.type,userId:r,api:c})),null;var y=i.getVariation(A,R,_,t,r,v,S).variationName;return y||null}},function(e,t,r){var n=r(3),a=r(9),i=r(6),o=r(8),u=r(5),l=r(10).objectValues,s=r(11),c=r(4),g=r(2),f=r(0),E=r(1),d=f.LogLevelEnum,p=f.LogMessageEnum,v=f.LogMessageUtil,S=E.Track,A=a.ALL,R="_vwo_",_=i.TRACK;e.exports=function(e,t,r,f){var E=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},y=!1;if(g.isObject(E)){var I=E.revenueValue,b=E.customVariables,m=E.variationTargetingVariables,O=E.goalTypeToTrack,T=E.shouldTrackReturningUser;c.areValidParamsForAPIMethod({method:i.TRACK,campaignKey:t,userId:r,goalIdentifier:f,customVariables:b,variationTargetingVariables:m,goalTypeToTrack:O,shouldTrackReturningUser:T})&&(!O||O&&l(a).includes(O))&&(y=!0)}if(!1===y)return e.logger.log(d.ERROR,v.build(p.ERROR_MESSAGES.TRACK_API_MISSING_PARAMS,{file:S})),null;var h=e.SettingsFileManager.getConfig(),N=e.SettingsFileManager.getSettingsFile(_);if(!N)return null;var L=[];if(O=O||h.goalTypeToTrack||A,g.isUndefined(T)&&(T=!!g.isBoolean(h.shouldTrackReturningUser)&&h.shouldTrackReturningUser),g.isString(t)){var U=u.getCampaign(N,t);L.push(U||{key:t})}else L=g.isArray(t)?u.getCampaignsForKeys(N,t):u.getCampaignsForGoal(N,f,O);var V={};return L.forEach((function(t){return V[t.key]=function(e,t,r,i,l,g,f,E,y,I,b,m){if(!t||t.status!==n.STATUS_RUNNING)return e.logger.log(d.ERROR,v.build(p.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:S,campaignKey:r,api:_})),!1;if(u.isFeatureRolloutCampaign(t))return e.logger.log(d.ERROR,v.build(p.ERROR_MESSAGES.INVALID_API,{file:S,campaignKey:r,campaignType:t.type,userId:i,api:_})),!1;var O=t.id,T=u.getCampaignGoal(l,t.key,g);if(!T)return e.logger.log(d.ERROR,v.build(p.ERROR_MESSAGES.TRACK_API_GOAL_NOT_FOUND,{file:S,userId:i,goalIdentifier:g,campaignKey:r})),!1;if(b!==A&&T.type!==b)return!1;if(T.type===a.REVENUE&&!c.isValidValue(f))return e.logger.log(d.ERROR,v.build(p.ERROR_MESSAGES.TRACK_API_REVENUE_NOT_PASSED_FOR_REVENUE_GOAL,{file:S,userId:i,goalIdentifier:g,campaignKey:r})),!1;var h=o.getVariation(E,l,t,r,i,y,I,g),N=h.variationId,L=h.variationName,U=h.storedGoalIdentifier;if(L){if(U)if(U.split(R).includes(g)){if(!m)return e.logger.log(d.INFO,v.build(p.INFO_MESSAGES.GOAL_ALREADY_TRACKED,{file:S,userId:i,goalIdentifier:g,campaignKey:r})),!1}else U+=R+g,o._saveUserData(E,t,L,i,U);var V=s.buildEventForTrackingGoal(l,O,N,i,T,f);return e.eventQueue.process(E,V,e),o._saveUserData(E,t,L,i,g),!0}return!1}(e,t,t.key,r,N,f,I,h,b,m,O,T)})),Object.keys(V).length?V:null}},function(e,t,r){var n=r(3),a=r(6),i=r(8),o=r(5),u=r(11),l=r(4),s=r(2),c=r(0),g=r(1),f=c.LogLevelEnum,E=c.LogMessageEnum,d=c.LogMessageUtil,p=g.IsFeatureEnabled;e.exports=function(e,t,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},g=a.IS_FEATURE_ENABLED,v=!1;if(s.isObject(c)){var S=c.customVariables,A=c.variationTargetingVariables;l.areValidParamsForAPIMethod({method:a.IS_FEATURE_ENABLED,campaignKey:t,userId:r,customVariables:S,variationTargetingVariables:A})&&(v=!0)}if(!1===v)return e.logger.log(f.ERROR,d.build(E.ERROR_MESSAGES.IS_FEATURE_ENABLED_API_MISSING_PARAMS,{file:p})),!1;var R=e.SettingsFileManager.getConfig(),_=e.SettingsFileManager.getSettingsFile(g);if(!_)return!1;var y=o.getCampaign(_,t);if(!y||y.status!==n.STATUS_RUNNING)return e.logger.log(f.ERROR,d.build(E.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:p,campaignKey:t,api:g})),!1;if(o.isAbCampaign(y))return e.logger.log(f.ERROR,d.build(E.ERROR_MESSAGES.INVALID_API,{file:p,campaignKey:t,campaignType:y.type,userId:r,api:g})),!1;var I=i.getVariation(R,_,y,t,r,S,A),b=I.variation,m=I.variationName,O=I.variationId,T=!1;if(m&&o.isFeatureTestCampaign(y)){T=b.isFeatureEnabled;var h=u.buildEventForTrackingUser(_,y.id,O,r);e.eventQueue.process(R,h,e)}else m&&o.isFeatureRolloutCampaign(y)&&(T=!0);return T?e.logger.log(f.INFO,d.build(E.INFO_MESSAGES.FEATURE_ENABLED_FOR_USER,{file:p,campaignKey:t,userId:r})):e.logger.log(f.INFO,d.build(E.INFO_MESSAGES.FEATURE_NOT_ENABLED_FOR_USER,{file:p,campaignKey:t,userId:r})),T}},function(e,t,r){var n=r(3),a=r(6),i=r(8),o=r(5),u=r(4),l=r(47),s=r(2),c=r(10),g=r(0),f=r(1),E=g.LogLevelEnum,d=g.LogMessageEnum,p=g.LogMessageUtil,v=f.GetFeatureVariableValue;e.exports=function(e,t,r,g){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};try{var S=a.GET_FEATURE_VARIABLE_VALUE,A=!1;if(s.isObject(f)){var R=f.customVariables,_=f.variationTargetingVariables;u.areValidParamsForAPIMethod({method:a.GET_FEATURE_VARIABLE_VALUE,campaignKey:t,variableKey:r,userId:g,customVariables:R,variationTargetingVariables:_})&&(A=!0)}if(!1===A)return e.logger.log(E.ERROR,p.build(d.ERROR_MESSAGES.GET_FEATURE_VARIABLE_MISSING_PARAMS,{file:v,campaignKey:t,variableKey:r})),null;var y=e.SettingsFileManager.getConfig(),I=e.SettingsFileManager.getSettingsFile(S);if(!I)return null;var b,m=o.getCampaign(I,t);if(!m||m.status!==n.STATUS_RUNNING)return e.logger.log(E.ERROR,p.build(d.ERROR_MESSAGES.CAMPAIGN_NOT_RUNNING,{file:v,campaignKey:t,api:S})),null;if(o.isAbCampaign(m))return e.logger.log(E.ERROR,p.build(d.ERROR_MESSAGES.INVALID_API,{file:v,campaignKey:t,campaignType:m.type,userId:g,api:S})),null;var O=i.getVariation(y,I,m,t,g,R,_),T=O.variation,h=O.variationName;if(!h)return e.logger.log(E.INFO,p.build(d.INFO_MESSAGES.FEATURE_NOT_ENABLED_FOR_USER,{file:v,campaignKey:t,userId:g})),null;if(o.isFeatureRolloutCampaign(m)?b=l.getVariableForFeature(m,r):o.isFeatureTestCampaign(m)&&(b=l.getVariableValueForVariation(m,T,r),c.areObjectKeys(b)&&T.isFeatureEnabled?e.logger.log(E.INFO,p.build(d.INFO_MESSAGES.USER_RECEIVED_VARIABLE_VALUE,{file:v,variableKey:r,campaignKey:m.key,variableValue:b.value,userId:g})):c.areObjectKeys(b)&&!T.isFeatureEnabled&&e.logger.log(E.INFO,p.build(d.INFO_MESSAGES.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,{file:v,variableKey:r,variationName:h}))),!c.areObjectKeys(b))return e.logger.log(E.ERROR,p.build(d.ERROR_MESSAGES.VARIABLE_NOT_FOUND,{file:v,variableKey:r,userId:g})),null;var N=b.value;return l.getTypeCastVariableValue(N,b.type)}catch(t){return e.logger.log(E.ERROR,t.message),null}}},function(e,t,r){var n=r(5),a=r(2),i=r(48),o=r(0),u=r(1),l=o.LogLevelEnum,s=o.LogMessageEnum,c=o.LogMessageUtil,g=o.getLogger(),f=u.FeatureUtil,E={getVariableForFeature:function(e,t){var r={};if(n.isFeatureRolloutCampaign(e)){for(var a=e.variables||[],i=0;i<a.length;i++)if(a[i].key===t){r=a[i];break}return r}return r},getVariableValueForVariation:function(e,t,r){var a={};if(n.isFeatureTestCampaign(e)){if(!t||!t||!t.variables)return a;t.isFeatureEnabled||(t=n.getControlForCampaign(e));for(var i=0;i<t.variables.length;i++){var o=t.variables[i];if(r===o.key){a=o;break}}}return a},getTypeCastVariableValue:function(e,t){var r;switch(t){case i.INTEGER:r=parseInt(e,10),a.isNumber(r)&&!isNaN(r)||(g.log(l.ERROR,c.build(s.ERROR_MESSAGES.UNABLE_TO_CAST_VALUE,{file:f,variableValue:e,variableType:t})),r=null);break;case i.DOUBLE:r=parseFloat(e),a.isNumber(r)&&!isNaN(r)||(g.log(l.ERROR,c.build(s.ERROR_MESSAGES.UNABLE_TO_CAST_VALUE,{file:f,variableValue:e,variableType:t})),r=null);break;case i.BOOLEAN:a.isBoolean(e)?r=e:(g.log(l.ERROR,c.build(s.ERROR_MESSAGES.UNABLE_TO_CAST_VALUE,{file:f,variableValue:e,variableType:t})),r=null);break;default:r=e}return r}};e.exports=E},function(e,t){e.exports={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string"}},function(e,t,r){var n=r(6),a=r(0),i=r(1),o=r(4),u=r(11),l=a.LogLevelEnum,s=a.LogMessageEnum,c=a.LogMessageUtil,g=i.Push;e.exports=function(e,t,r,a){var i=n.PUSH;if(!o.areValidParamsForAPIMethod({method:n.PUSH,tagKey:t,tagValue:r,userId:a}))return e.logger.log(l.ERROR,c.build(s.ERROR_MESSAGES.PUSH_INVALID_PARAMS,{file:g,method:i})),!1;if(t.length>255)return e.logger.log(l.ERROR,c.build(s.ERROR_MESSAGES.TAG_KEY_LENGTH_EXCEEDED,{file:g,tagKey:t,userId:a})),!1;if(r.length>255)return e.logger.log(l.ERROR,c.build(s.ERROR_MESSAGES.TAG_VALUE_LENGTH_EXCEEDED,{file:g,tagKey:t,userId:a,tagValue:r})),!1;var f=e.SettingsFileManager.getConfig(),E=e.SettingsFileManager.getSettingsFile(i);if(!E)return!1;var d=u.buildEventForPushing(E,t,r,a);return e.eventQueue.process(f,d,e),!0}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(2),i=r(51),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.running=!1,this.queue=[]}var t,r,o;return t=e,(r=[{key:"process",value:function(e,t,r){e&&e.isDevelopmentMode||this.enqueue(t,r)}},{key:"enqueue",value:function(e,t){return this.queue.push({eventName:e.eventName,properties:e,callback:function(){i.dispatch(e,(function(){}))}}),t.eventQueue.executeNext(e),this.running||this.executeNext(e),this}},{key:"executeNext",value:function(e){if(this.running=!1,this.queue&&this.queue.length){var t=this.queue.shift();t&&(this.running=!0,t.callback&&a.isFunction(t.callback)&&t.callback(e))}}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=o},function(e,t,r){var n=r(0),a=r(1),i=n.LogLevelEnum,o=n.LogMessageEnum,u=n.LogMessageUtil,l=n.getLogger(),s=["url"],c={dispatch:function(e,t){var n,c="?";for(var g in e)e.hasOwnProperty(g)&&-1===s.indexOf(g)&&(c+=g+"="+e[g]+"&");try{0,n=new URL(e.url),r(52).sendCall(n,c)}catch(t){var f=e.url;l.log(i.ERROR,u.build(o.ERROR_MESSAGES.IMPRESSION_FAILED,{file:a.EventDispatcher,endPoint:f,err:t}))}return!1}};e.exports=c},function(e,t){var r=function(){},n={sendCall:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="https://".concat(e.host).concat(e.pathname).concat(t),i=n.successCallback,o=n.errorCallback,u=!1,l=new Image;i=i||r,o=o||r,l.onload=function(){u||(u=!0,i())},l.onerror=function(){u||(u=!0,o())},l.src=a}};e.exports=n},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(54),i=r(5),o=r(7),u=r(0),l=r(1),s=u.LogLevelEnum,c=u.LogMessageEnum,g=u.LogMessageUtil,f=l.SettingsFileManager,E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?(t.settingsFile&&!t.settingsFile.campaigns&&(t.settingsFile.campaigns=[]),this._configObj=t,this._clonedSettingsFile=t.settingsFile?o.cloneObject(t.settingsFile):null):(this._configObj=null,this._clonedSettingsFile=null)}var t,r,u;return t=e,(r=[{key:"_setVariationBucketing",value:function(e){i.setVariationAllocation(e)}},{key:"isSettingsFileValid",value:function(){return!(!this._configObj||!this._clonedSettingsFile||!a.test(this._clonedSettingsFile)&&(this._configObj.logger.log(s.ERROR,g.build(c.ERROR_MESSAGES.SETTINGS_FILE_CORRUPTED,{file:f})),1))}},{key:"processSettingsFile",value:function(){for(var e=this._clonedSettingsFile,t=0;t<e.campaigns.length;t++){var r=e.campaigns[t];this._setVariationBucketing(r)}return this._configObj.logger.log(s.DEBUG,g.build(c.DEBUG_MESSAGES.SETTINGS_FILE_PROCESSED,{file:f})),e}},{key:"getConfig",value:function(){return this._configObj}},{key:"getSettingsFile",value:function(e){return this._clonedSettingsFile||this._configObj.logger.log(s.ERROR,g.build(c.ERROR_MESSAGES.API_HAS_CORRUPTED_SETTINGS_FILE,{file:f,api:e})),this._clonedSettingsFile}}])&&n(t.prototype,r),u&&n(t,u),e}();e.exports=E},function(e,t,r){var n=r(55),a=n.superstruct,i=n.struct;function o(e,t){return"[object Object]"===Object.prototype.toString.call(e)?i({}).test(e):"[object Array]"===Object.prototype.toString.call(e)&&t.test(e)}var u=(i=a({types:{variationsType:function(e){return o(e,s)},goalsType:function(e){return o(e,u)},variablesType:function(e){return o(e,l)},campaignsType:function(e){return o(e,c)}}}))([{id:"number|string",identifier:"string",type:"string"}]),l=i([{id:"number|string",type:"string",key:"string",value:"number|string|boolean"}]),s=i([{id:"number|string",name:"string",weight:"number|string",changes:"object?",segments:"object?",variables:"variablesType?",isFeatureEnabled:"boolean?",startVariationAllocation:"number?",endVariationAllocation:"number?"}]),c=i([{id:"number|string",type:"string",key:"string",status:"string",percentTraffic:"number",goals:"goalsType",variations:"variationsType",variables:"variablesType?",segments:"object",isForcedVariationEnabled:"boolean?"}]),g=i({sdkKey:"string?",version:"number|string",accountId:"number|string",campaigns:"campaignsType"});e.exports=g},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,r){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&u(a,r.prototype),a}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,o(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}r.r(t),r.d(t,"StructError",(function(){return S})),r.d(t,"Types",(function(){return E})),r.d(t,"isStruct",(function(){return R})),r.d(t,"struct",(function(){return b})),r.d(t,"superstruct",(function(){return I}));var c=Object.prototype.toString,g=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===f(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(f(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=c.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")};function f(e){return e.constructor?e.constructor.name:null}var E={any:function(e){return void 0!==e},arguments:function(e){return"arguments"===g(e)},array:function(e){return"array"===g(e)},boolean:function(e){return"boolean"===g(e)},buffer:function(e){return"buffer"===g(e)},date:function(e){return"date"===g(e)&&!isNaN(e)},error:function(e){return"error"===g(e)},float32array:function(e){return"float32array"===g(e)},float64array:function(e){return"float64array"===g(e)},function:function(e){return"function"===g(e)},generatorfunction:function(e){return"generatorfunction"===g(e)},int16array:function(e){return"int16array"===g(e)},int32array:function(e){return"int32array"===g(e)},int8array:function(e){return"int8array"===g(e)},map:function(e){return"map"===g(e)},null:function(e){return"null"===g(e)},number:function(e){return"number"===g(e)},object:function(e){return"object"===g(e)},promise:function(e){return"promise"===g(e)},regexp:function(e){return"regexp"===g(e)},set:function(e){return"set"===g(e)},string:function(e){return"string"===g(e)},symbol:function(e){return"symbol"===g(e)},uint16array:function(e){return"uint16array"===g(e)},uint32array:function(e){return"uint32array"===g(e)},uint8array:function(e){return"uint8array"===g(e)},uint8clampedarray:function(e){return"uint8clampedarray"===g(e)},undefined:function(e){return"undefined"===g(e)},weakmap:function(e){return"weakmap"===g(e)},weakset:function(e){return"weakset"===g(e)}},d=!0,p="Invariant failed";function v(e,t){if(!e)throw d?new Error(p):new Error(p+": "+(t||""))}var S=function(e){var t,r;function n(t){var r;v(t.length>0,"StructError requires being passed a failure, but received: "+t);var a=t[0],i=a.path,o=a.value,u=a.type,l=a.branch,s=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(a,["path","value","type","branch"]),c="Expected a value of type `"+u+"`"+(i.length?" for `"+i.join(".")+"`":"")+" but received `"+JSON.stringify(o)+"`.";return(r=e.call(this,c)||this).type=u,r.value=o,Object.assign(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),s),r.path=i,r.branch=l,r.failures=t,r.stack=(new Error).stack,r.__proto__=n.prototype,r}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n}(s(TypeError)),A=Symbol("STRUCT"),R=function(e){return"function"==typeof e&&e[A]},_=function(e){var t=e.struct.Error,r=function e(t){return e.assert(t)};return Object.defineProperty(r,A,{value:!0}),r.kind=e.kind,r.type=e.type,r.default=function(){return"function"==typeof e.defaults?e.defaults():e.defaults},r.test=function(e){return!r.check(e,[e],[])[0]},r.assert=function(e){var n=r.check(e,[e],[]),a=n[0],i=n[1];if(a)throw new t(a);return i},r.validate=function(e){var n=r.check(e,[e],[]),a=n[0],i=n[1];return a?[new t(a)]:[void 0,i]},r.check=function(e,t,n){return void 0===e&&(e=r.default()),[[r.fail({value:e,branch:t,path:n})]]},r.fail=function(e){return i({},e,{type:"type"in e?e.type:r.type})},r},y=function(e,t,r){v(Array.isArray(e)&&0!==e.length,"Union structs must be defined as a non-empty array, but you passed: "+e);var n=e.map((function(e){return r(e)})),a=n.map((function(e){return e.type})).join(" | "),i=_({kind:"union",type:a,defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=n,o=Array.isArray(a),u=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(u>=a.length)break;l=a[u++]}else{if((u=a.next()).done)break;l=u.value}var s=l.check(e,t,r),c=s[0],g=s[1];if(!c)return[void 0,g]}return[[i.fail({value:e,branch:t,path:r})]]},i},I=function(e){void 0===e&&(e={});var t=function e(t,r){return function(e,t,r){if(R(e))return e;if(Array.isArray(e)){if(1===e.length){var n=e[0];return r.array([n],t)}if(e.length>1)return r.tuple(e,t)}if("function"==typeof e)return r.function(e,t);if("object"==typeof e)return r.object(e,t);if("string"==typeof e){var a,i=!1;if(e.endsWith("?")&&(i=!0,e=e.slice(0,-1)),e.includes("|")){var o=e.split(/\s*\|\s*/g);a=r.union(o,t)}else if(e.includes("&")){var u=e.split(/\s*&\s*/g);a=r.intersection(u,t)}else a=r.scalar(e,t);return i&&(a=r.union([a,"undefined"],void 0)),a}throw new Error("A schema definition must be an object, array, string or function, but you passed: "+e)}(t,r,e)};return t.array=function(e,r){return function(e,t,r){v(Array.isArray(e)&&1===e.length,"Array structs must be defined as an array with one element, but you passed: "+e);var n=r(e[0],void 0),a=_({kind:"array",type:n.type+"[]",defaults:t,struct:r});return a.check=function(e,t,r){if(void 0===e&&(e=a.default()),!Array.isArray(e))return[[a.fail({value:e,branch:t,path:r})]];for(var i=[],o=[],u=0;u<e.length;u++){var l=e[u],s=n.check(l,t.concat(l),r.concat(u)),c=s[0],g=s[1];c?o.push.apply(o,c):i[u]=g}return o.length?[o]:[void 0,i]},a}(e,r,t)},t.dynamic=function(e,r){return function(e,t,r){v("function"==typeof e,"Dynamic structs must be defined as a function, but you passed: "+e);var n=_({kind:"dynamic",type:"dynamic<…>",defaults:t,struct:r});return n.check=function(t,r,a){return void 0===t&&(t=n.default()),e(t,r,a).check(t,r,a)},n}(e,r,t)},t.enum=function(e,r){return function(e,t,r){v(Array.isArray(e),"Enum structs must be defined as an array, but you passed: "+e);var n=r((function(t){return e.includes(t)}),t);return n.kind="enum",n.type=e.map((function(e){return"string"==typeof e?'"'+e+'"':""+e})).join(" | "),n}(e,r,t)},t.function=function(e,r){return function(e,t,r){var n=_({kind:"function",type:"function<…>",defaults:t,struct:r});return n.check=function(t,r,a){void 0===t&&(t=n.default());var o=e(t,r,a);if(!0===o)return[void 0,t];var u=[];if(!1===o)u.push(n.fail({value:t,branch:r,path:a}));else if(Array.isArray(o)&&o.length>0){var l=o,s=Array.isArray(l),c=0;for(l=s?l:l[Symbol.iterator]();;){var g;if(s){if(c>=l.length)break;g=l[c++]}else{if((c=l.next()).done)break;g=c.value}var f=g;u.push(n.fail(i({value:t,branch:r,path:a},f)))}}else"object"==typeof o?u.push(n.fail(i({value:t,branch:r,path:a},o))):v(!1,"Validator functions must return a boolean, a failure object, or an array of failure objects, but you passed: "+o);return[u]},n}(e,r,t)},t.instance=function(e,r){return function(e,t,r){v("function"==typeof e,"Instance structs must be defined as a function, but you passed: "+e);var n=r((function(t){return t instanceof e}),t);return n.kind="instance",n.type="instance<"+e.name+">",n}(e,r,t)},t.interface=function(e,r){return function(e,t,r){v("object"==typeof e,"Interface structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r(e[a]);var i=_({kind:"interface",type:"interface<{"+Object.keys(e).join()+"}>",defaults:t,struct:r});return i.check=function(e,t,r){if(void 0===e&&(e=i.default()),"object"!=typeof e&&"function"!=typeof e)return[[i.fail({value:e,branch:t,path:r})]];var a=[];for(var o in n){var u=n[o],l=e[o],s=u.check(l,t.concat(l),r.concat(o))[0];s&&a.push.apply(a,s)}return a.length?[a]:[void 0,e]},i}(e,r,t)},t.intersection=function(e,r){return function(e,t,r){v(Array.isArray(e)&&0!==e.length,"Intersection structs must be defined as a non-empty array, but you passed: "+e);var n=e.map((function(e){return r(e)})),a=n.map((function(e){return e.type})).join(" & "),i=_({kind:"intersection",type:a,defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=e,o=n,u=Array.isArray(o),l=0;for(o=u?o:o[Symbol.iterator]();;){var s;if(u){if(l>=o.length)break;s=o[l++]}else{if((l=o.next()).done)break;s=l.value}var c=s.check(e,t,r),g=c[0],f=c[1];if(g)return[[i.fail({value:e,branch:t,path:r})]];a=f}return[void 0,a]},i}(e,r,t)},t.lazy=function(e,r){return function(e,t,r){v("function"==typeof e,"Lazy structs must be defined as a function, but you passed: "+e);var n=_({kind:"lazy",type:"lazy<…>",defaults:t,struct:r});return n.check=function(){return Object.assign(n,e()),n.check.apply(n,arguments)},n}(e,r,t)},t.literal=function(e,r){return function(e,t,r){var n=r((function(t){return t===e}),t);return n.kind="literal",n.type="string"==typeof e?'"'+e+'"':""+e,n}(e,r,t)},t.object=function(e,r){return function(e,t,r){v("object"==typeof e,"Object structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r(e[a]);var i=_({kind:"object",type:"{"+Object.keys(e).join()+"}",defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=i.default();if(void 0===e&&(e=a),"object"!==g(e))return[[i.fail({value:e,branch:t,path:r})]];var o={},u=[],l=new Set(Object.keys(n).concat(Object.keys(e))),s=Array.isArray(l),c=0;for(l=s?l:l[Symbol.iterator]();;){var f;if(s){if(c>=l.length)break;f=l[c++]}else{if((c=l.next()).done)break;f=c.value}var E=f,d=e[E],p=r.concat(E),v=t.concat(d),S=n[E];if(void 0===d&&null!=a&&E in a&&(d="function"==typeof a[E]?a[E](e,t,r):a[E]),E in n){var A=S.check(d,v,p),R=A[0],_=A[1];R?u.push.apply(u,R):void 0!==_&&E in n&&(o[E]=_)}else u.push(i.fail({type:void 0,value:d,path:p,branch:e}))}return u.length?[u]:[void 0,o]},i}(e,r,t)},t.optional=function(e,r){return y([e,"undefined"],r,t)},t.partial=function(e,r){return function(e,t,r){v("object"==typeof e,"Partial structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r.union([e[a],"undefined"]);var i=_({kind:"object",type:"{"+Object.keys(e).join()+"}",defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=i.default();if(void 0===e&&(e=a),"object"!==g(e))return[[i.fail({value:e,branch:t,path:r})]];var o={},u=[],l=e,s=Array.isArray(l),c=0;for(l=s?l:l[Symbol.iterator]();;){var f;if(s){if(c>=l.length)break;f=l[c++]}else{if((c=l.next()).done)break;f=c.value}var E=f,d=e[E],p=r.concat(E),v=t.concat(d),S=n[E];if(void 0===d&&null!=a&&E in a&&(d="function"==typeof a[E]?a[E](e,t,r):a[E]),E in n){var A=S.check(d,v,p),R=A[0],_=A[1];R?u.push.apply(u,R):void 0!==_&&E in n&&(o[E]=_)}else u.push(i.fail({type:void 0,value:d,path:p,branch:e}))}return u.length?[u]:[void 0,o]},i}(e,r,t)},t.pick=function(e,r){return function(e,t,r){v("object"==typeof e,"Pick structs must be defined as an object, but you passed: "+e);var n={};for(var a in e)n[a]=r(e[a]);var i=_({kind:"pick",type:"pick<{"+Object.keys(e).join()+"}>",defaults:t,struct:r});return i.check=function(e,t,r){void 0===e&&(e=i.default());var a=i.default();if(void 0===e&&(e=a),"object"!==g(e))return[[i.fail({value:e,branch:t,path:r})]];var o={},u=[];for(var l in n){var s=e[l],c=r.concat(l),f=t.concat(s),E=n[l];void 0===s&&null!=a&&l in a&&(s="function"==typeof a[l]?a[l](e,t,r):a[l]);var d=E.check(s,f,c),p=d[0],v=d[1];p?u.push.apply(u,p):void 0!==v&&l in n&&(o[l]=v)}return u.length?[u]:[void 0,o]},i}(e,r,t)},t.record=function(e,r){return function(e,t,r){v(Array.isArray(e)&&2===e.length,"Record structs must be defined as an array with two elements, but you passed: "+e);var n=r(e[0]),a=r(e[1]),o=_({kind:"record",type:"record<"+n.type+","+a.type+">",defaults:t,struct:r});return o.check=function(e,t,r){var u=o.default();if(e=u?i({},u,{},e):e,"object"!==g(e))return[[o.fail({value:e,branch:t,path:r})]];var l={},s=[];for(var c in e){var f=e[c],E=r.concat(c),d=t.concat(f),p=n.check(c,d,E),v=p[0],S=p[1];if(v)s.push.apply(s,v);else{var A=a.check(f,d,E),R=A[0],_=A[1];R?s.push.apply(s,R):l[S]=_}}return s.length?[s]:[void 0,l]},o}(e,r,t)},t.scalar=function(e,r){return function(e,t,r){v("string"==typeof e,"Scalar structs must be defined as a string, but you passed: "+e);var n=r.Types;v(e in n,'No struct validator function found for type "'+e+'".');var a=r(n[e],t);return a.kind="scalar",a.type=e,a}(e,r,t)},t.size=function(e,r){return function(e,t,r){v(Array.isArray(e)&&2===e.length&&e.every((function(e){return"number"==typeof e})),"Size structs must be defined as an array with two number elements, but you passed: "+e);var n=e[0],a=e[1],i=r((function(e){return null!=e&&"number"==typeof e.length&&e.length>=n&&e.length<=a}),t);return i.kind="size",i.type="size<"+n+","+a+">",i}(e,r,t)},t.tuple=function(e,r){return function(e,t,r){v(Array.isArray(e),"Tuple structs must be defined as an array, but you passed: "+e);var n=e.map((function(e){return r(e)})),a=_({kind:"tuple",type:"["+n.map((function(e){return e.type})).join()+"]",defaults:t,struct:r});return a.check=function(e,t,r){if(void 0===e&&(e=a.default()),!Array.isArray(e))return[[a.fail({value:e,branch:t,path:r})]];for(var i=[],o=[],u=Math.max(e.length,n.length),l=0;l<u;l++){var s=n[l],c=e[l],g=r.concat(l),f=t.concat(c);if(s){var E=s.check(c,f,g),d=E[0],p=E[1];d?o.push.apply(o,d):i[l]=p}else o.push(a.fail({type:void 0,value:c,path:g,branch:f}))}return o.length?[o]:[void 0,i]},a}(e,r,t)},t.union=function(e,r){return y(e,r,t)},t.Error=e.error||S,t.Types=i({},E,{},e.types),t},b=I()},function(e,t,r){var n=r(3),a=r(16),i=r(7);e.exports={get:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&t){var u="https",l=a.BASE_URL,s=a.ACCOUNT_SETTINGS;return s+="?a=".concat(e,"&")+"i=".concat(t,"&")+"r=".concat(i.getRandomNumber(),"&")+"platform=server&"+"sdk=".concat(n.SDK_NAME,"&")+"sdk-v=".concat(n.SDK_VERSION,"&")+"api-version=1",o.hostname&&o.path&&(u=o.protocol,o.port,l=o.hostname||l,s=o.path||s),r(57).send({method:"GET",url:"".concat(u,"://").concat(l).concat(s)})}console.error("AccountId and sdkKey are required for fetching account settings. Aborting!")}}},function(e,t){var r={send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.method,r=e.url;if(r&&t)return new Promise((function(e,n){var a=new XMLHttpRequest;a.open(t,r),a.send(),a.onload=function(){try{e(JSON.parse(a.response))}catch(e){console.error(e)}},a.onerror=function(){var e="Request failed for fetching account settings. Got Status Code: ".concat(a.status);console.error(e),n(e)}}))}};e.exports=r}])}));
//# sourceMappingURL=vwo-javascript-sdk.min.js.map